{"version":3,"sources":["components/cart/context.js","components/navbar.js","components/layout/index.js","data/products.js","components/product-card/index.js","App.js","components/cart/index.js","index.js","pages/home/index.js","pages/view-cart/index.js"],"names":["CartContext","createContext","CartProvider","children","useState","items","setItems","Provider","value","reduce","cart","item","found","find","_item","sku","quantity","push","price","img","name","itemsWithQuantities","itemsCount","length","formatPrice","toFixed","addToCart","prevState","Navbar","numItemsInCart","useContext","id","src","alt","to","className","Layout","products","ProductCard","props","cartContext","product","onClick","App","map","Cart","stripeToken","stripe","setStripe","context","useEffect","window","Stripe","width","class","total","redirectToCheckout","lineItems","mode","successUrl","cancelUrl","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.30c9dbcf.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\n\n// null avoids undefined value\nexport const CartContext = createContext(null);\n\n// wrap around App.js, which is passed a child\nexport default function CartProvider({ children }) {\n\t// items is a state state array that is changed by setItems\n\tconst [items, setItems] = useState([]);\n\n\tfunction addToCart(item) {\n\t\t// appends item to previous state array items\n\t\t// ...prevState spreads previous state array into new array with appended item\n\t\tsetItems(prevState => [...prevState, item]);\n\t}\n\n\t// prices in items array listed as cents\n\t// function converts to currency format\n\tfunction formatPrice(price) {\n\t\treturn `$${(price * 0.01).toFixed(2)}`\n\t}\n\n\t// look for items and set quantities\n\t// compares sku between items state array and list of products \n\tfunction itemsWithQuantities(items) {\n\t\treturn items.reduce((cart, item) => {\n\t\t\tconst found = cart.find(_item => _item.sku === item.sku)\n\t\t\t// if item is already in cart, increase quantity of it\n\t\t\tif(found) {\n\t\t\t\tfound.quantity += 1;\n\t\t\t}\n\t\t\t// otherwise if item is not in the cart, put it in the cart\n\t\t\telse {\n\t\t\t\tcart.push({\n\t\t\t\t\tquantity: 1,\n\t\t\t\t\tsku: item.sku,\n\t\t\t\t\tprice: item.price,\n\t\t\t\t\timg: item.img,\n\t\t\t\t\tname: item.name\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn cart\n\t\t// returns an array (items in the cart) that is initially empty, built up by total\n\t\t}, []);\n\t}\n\n\treturn (\n\t\t<CartContext.Provider\n\t\t\t// value is persisted throughout the children, like \"global\" throughout components\n\t\t\tvalue={{\n\t\t\t\titems: itemsWithQuantities(items),\n\t\t\t\titemsCount: items.length,\n\t\t\t\tformatPrice,\n\t\t\t\taddToCart\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</CartContext.Provider>\n\t);\n};","import React, {useContext} from 'react';\nimport { Link } from 'react-router-dom';\nimport {CartContext} from './cart/context';\n\nexport default function Navbar() {\n\tconst cartContext = useContext(CartContext);\n\tconst numItemsInCart = cartContext.itemsCount;\n\n\treturn (\n\t\t<div id=\"navbar\">\n\t\t\t<nav>\n\t\t\t\t<img src=\"./img/logo.png\" alt=\"logo\"/>\n\t\t\t\t<ul>\n\t\t\t\t\t<Link to=\"/ecommerce-store\" className=\"nav-link\">\n                \t\tShop\n                \t</Link>\n\t\t            <Link to=\"/ecommerce-store\" className=\"nav-link\">\n                \t\tAbout\n                \t</Link>\n                \t<Link to=\"/ecommerce-store\" className=\"nav-link\">\n                \t\tContact\n                \t</Link>\n                \t<Link to=\"/ecommerce-store/view-cart\" className=\"nav-link\">\n                \t\tView Cart ({numItemsInCart})\n                \t</Link>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport Navbar from '../navbar';\n\nexport default function Layout({ children }) {\n\treturn (\n\t\t<div>\n\t\t\t<Navbar />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}","const products = [\n\t{ \n\t\tsku: \"price_HKKTtIgrAA89Vd\", \n\t\tprice: 1799, \n\t\timg: \"portable_charger\",\n\t\tname: \"Portable Charger\"\n\t},\n\t{ \n\t\tsku: \"price_HKKS8gNAg3H6XC\", \n\t\tprice: 999,\n\t\timg: \"phone_ring\",\n\t\tname: \"Phone Ring\"\n\t},\n\t{ \n\t\tsku: \"price_HKKSujR3pK5vVg\", \n\t\tprice: 1199, \n\t\timg: \"phone_stand\",\n\t\tname: \"Phone Stand\"\n\t}\n];\n\nexport default products;","import React, { useContext } from 'react';\n\nimport { CartContext } from '../cart/context';\n\nexport default function ProductCard(props) {\n\t// allows us to use addToCart function and persist the value of items\n\tconst cartContext = useContext(CartContext);\n\n\treturn (\n\t\t<div className=\"product-card\">\n\t\t\t<img\n\t\t\t\tsrc={`./img/${props.product.img}.jpg`}\n\t\t\t\talt={props.product.name}\n\t\t\t/>\n\t\t\t<div className=\"info\">\n\t\t\t\t<h1>{props.product.name}</h1>\n\t\t\t\t<div className=\"price\">{cartContext.formatPrice(props.product.price)}</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"addToCart\"\n\t\t\t\t\t\tonClick={() => cartContext.addToCart(props.product)}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd to Cart\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n        </div>\n\t);\n}","import React from 'react';\n\n// import components\nimport products from \"./data/products\";\nimport ProductCard from './components/product-card';\n\nexport default function App() {\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<header><h1>Products</h1></header>\n\t\t\t<div className=\"card-wrapper\">\n\t\t\t\t{\n\t\t\t\t\tproducts.map(product => (\n\t\t\t\t\t\t<ProductCard product={product} />\n\t\t      \t\t))\n\t      \t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import React, { useState, useEffect, useContext } from 'react';\nimport { CartContext } from './context'\n\n// prices in items array listed as cents\n// function converts to currency format\nfunction formatPrice(price) {\n\treturn `$${(price * 0.01).toFixed(2)}`\n}\n\nfunction totalPrice(items) {\n\treturn items.reduce((total, item) => total + item.quantity * item.price, 0.00)\n}\n\nexport default function Cart({ stripeToken }) {\n\tconst [stripe, setStripe] = useState(null);\n\t// allows us to use the values of products through the context's items state array\n\tconst context = useContext(CartContext);\n\n\t// similar to componentDidMount\n\t// if stripeToken were to change, function would be called again\n\tuseEffect(() => {\n\t\tif(window.Stripe) setStripe(window.Stripe(stripeToken))\n\t}, [stripeToken]);\n\n\tfunction checkout() {\n\t\tstripe.redirectToCheckout({\n\t\t\tlineItems: context.items.map(item => ({\n\t\t\t\tprice: item.sku,\n\t\t\t\tquantity: item.quantity,\n\t\t\t})),\n\t\t\tmode: 'payment',\n\t\t\tsuccessUrl: \"https://your-website.com/success\",\n\t\t\tcancelUrl: \"https://your-website.com/canceled\"\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<div className=\"cart-wrapper\">\n\t\t\t\t<h1 className=\"cart-title\">Shopping Cart</h1>\n\t\t\t\t{\n\t\t\t\t\tcontext.items.map(item => \n\t\t\t\t\t\t\t<div className=\"cart-item\">\n\t\t\t\t\t\t\t\t<div className=\"cart-item-img\"><img src={`/img/${item.img}.jpg`} alt={item.name} width={150}/></div>\n\t\t\t\t\t\t\t\t<div className=\"cart-item-name\">{item.name}</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"cart-item-quantity\">{item.quantity}</div>\n\t\t\t\t\t\t\t<div className=\"cart-item-price\"> {formatPrice(item.price * item.quantity)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div className=\"cart-end\">\n\t\t\t\t\t<div class=\"checkout-total\">Total: {formatPrice(totalPrice(context.items))}</div>\n\t\t\t\t\t<button id=\"checkout\" onClick={checkout}>Checkout</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t</div>\n\t);\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Home from './pages/home'\nimport ViewCartPage from './pages/view-cart'\nimport CartProvider from \"./components/cart/context\"\n\nReactDOM.render(\n\t<Router>\n\t\t{\n\t\t\t// CartProvider helps provide context so we don't have to pass down values\n\t\t}\n\t\t<CartProvider>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/ecommerce-store\" component={Home} /> \n\t\t\t\t<Route exact path=\"/ecommerce-store/view-cart\" component={ViewCartPage} /> \n\t\t\t</Switch>\n\t\t</CartProvider>\n\t</Router>,\n\tdocument.getElementById('root')\n);\n","import React from 'react';\nimport Layout from '../../components/layout'\nimport Store from '../../App'\n\nexport default function Home() {\n\treturn (\n\t\t<Layout>\n\t\t\t<Store />\n\t\t</Layout>\n\t);\n}","import React from 'react';\nimport Layout from '../../components/layout';\nimport Cart from '../../components/cart';\n\nexport default function ViewCartPage() {\n\treturn (\n\t\t<Layout>\n\t\t\t<Cart stripeToken=\"pk_test_lGdDk3ZKTN2Q7HJwCylNaR5600YANLK3fY\"/>\n\t\t</Layout>\n\t);\n}"],"sourceRoot":""}